!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).lib=n()}(this,function(){"use strict";n.prototype.onClick=function(t,n,e){t.clearRect(0,0,n,e),this.draw(t,n,e)},n.prototype.randomRgb=function(){var t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),e=Math.floor(256*Math.random());return"rgb(".concat(t,",").concat(n,",").concat(e,")")},n.prototype.randomChar=function(t){void 0===t&&(t=4);for(var n="",e=0;e<t;e++)n+=this.factorStr[Math.floor(Math.random()*this.factorStr.length)];return n},n.prototype.draw=function(t,n,e){if(t.strokeStyle=this.randomRgb(),this.isLine)for(var i=0;i<10;i++)t.beginPath(),t.moveTo(Math.random()*n,Math.random()*e),t.lineTo(Math.random()*n,Math.random()*e),t.strokeStyle=this.randomRgb(),t.stroke();if(this.isPoint)for(var o=0;o<20;o++){t.beginPath();var a=Math.random()*n,r=Math.random()*e;t.arc(a,r,1,0,2*Math.PI,!0),t.fillStyle=this.randomRgb(),t.fill()}for(var s="",l=0;l<this.charNum;l++){t.save();var a=n/this.charNum*l/2,r=Math.random()*e/4+e/4,c=(t.translate(a,r),this.randomChar(1));s+=c,t.font="italic ".concat(this.fontSize,"px 'Microsoft YaHei'"),this.isFill?(t.fillStyle=this.randomRgb(),t.fillText(c,a,r)):(t.strokeStyle=this.randomRgb(),t.strokeText(c,a,r)),t.restore()}this.callback(s)};var t=n;function n(t,n){var e=this,i=(this.callback=n,this.isLine=t.line,this.isPoint=t.point,this.isFill=t.fill,this.fontSize=t.fontSize||50,this.charNum=t.charNum||4,this.factorStr=t.factor||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",document.createElement("canvas")),o=(i.width=t.container.clientWidth,i.height=t.container.clientHeight,t.container.appendChild(i),i.getContext("2d"));i.onclick=function(){return e.onClick(o,i.width,i.height)},this.draw(o,i.width,i.height)}function e(t,n){this.callback=n,t.title||(t.title="滑动解锁"),t.success||(t.success="解锁成功"),this.init(t)}return e.prototype.getMaterials=function(t){var n=document.createElement("div"),e=(n.style.cssText="user-select: none;\n    position: relative;\n    background-color: #E8E8E8;",document.createElement("div")),i=(e.style.cssText='position: absolute;\n    top: 0;\n    left: 0;\n    width: 36px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #fff;\n    cursor: pointer;\n    font-family: "宋体";\n    z-index: 1;\n    font-weight: bold;\n    color: #929292;',e.innerText=">>",document.createElement("div")),t=(i.style.cssText="position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 13px;\n    color: #444;",i.innerText=t,document.createElement("div"));return t.style.cssText="background-color: #BFBFBF;\n    height: 100%;\n    position: absolute;\n    left: 0;",n.appendChild(t),n.appendChild(e),n.appendChild(i),{container:n,slider:e,titleDiv:i,bgDiv:t}},e.prototype.init=function(n){var e,i,o=this,t=this.getMaterials(n.title),a=t.container,r=t.slider,s=t.titleDiv,l=t.bgDiv,c=(a.style.width=n.container.clientWidth+"px",a.style.height=n.container.clientHeight+"px",n.container.appendChild(a),a.offsetWidth-r.offsetWidth);r.onmousedown=function(t){t=window.event||t;e=t.clientX-r.offsetLeft,document.onmousemove=function(t){t=window.event||t;(i=t.clientX-e)<0?i=0:c<i&&(i=c),r.style.left=i+"px",l.style.width=i+"px"},document.onmouseup=function(t){t=window.event||t;document.onmousemove=null,document.onmouseup=null,(i=t.clientX-e)<0?(i=0,s.innerHTML=n.title,o.callback(!1)):c<i?(i=c,s.innerHTML=n.success,r.innerHTML="√",r.onmousedown=null,o.callback(!0)):(o.callback(!1),i=0,r.style.transition="left .5s ease 0s",l.style.width="0",l.style.transition="width .5s ease 0s",r.addEventListener("transitionend",function(){r.style.transition="",l.style.transition=""})),r.style.left=i+"px"}}},{randomBlock:t,slider:e}});
