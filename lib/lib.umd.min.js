!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t="undefined"!=typeof globalThis?globalThis:t||self).lib=o()}(this,function(){"use strict";function t(t,o){var i=this,a=(this.callback=o,this.isLine=t.line,this.isPoint=t.point,this.isFill=t.fill,this.fontSize=t.fontSize||50,this.charNum=t.charNum||4,this.factorStr=t.factor||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",document.createElement("canvas")),n=(a.width=t.container.clientWidth,a.height=t.container.clientHeight,t.container.appendChild(a),a.getContext("2d"));a.onclick=function(){return i.onClick(n,a.width,a.height)},this.draw(n,a.width,a.height)}return t.prototype.onClick=function(t,o,i){t.clearRect(0,0,o,i),this.draw(t,o,i)},t.prototype.randomRgb=function(){var t=Math.floor(256*Math.random()),o=Math.floor(256*Math.random()),i=Math.floor(256*Math.random());return"rgb(".concat(t,",").concat(o,",").concat(i,")")},t.prototype.randomChar=function(t){void 0===t&&(t=4);for(var o="",i=0;i<t;i++)o+=this.factorStr[Math.floor(Math.random()*this.factorStr.length)];return o},t.prototype.draw=function(t,o,i){if(t.strokeStyle=this.randomRgb(),this.isLine)for(var a=0;a<10;a++)t.beginPath(),t.moveTo(Math.random()*o,Math.random()*i),t.lineTo(Math.random()*o,Math.random()*i),t.strokeStyle=this.randomRgb(),t.stroke();if(this.isPoint)for(var n=0;n<20;n++){t.beginPath();var r=Math.random()*o,e=Math.random()*i;t.arc(r,e,1,0,2*Math.PI,!0),t.fillStyle=this.randomRgb(),t.fill()}for(var h="",c=0;c<this.charNum;c++){t.save();var r=o/this.charNum*c/2,e=Math.random()*i/4+i/4,l=(t.translate(r,e),this.randomChar(1));h+=l,t.font="italic ".concat(this.fontSize,"px 'Microsoft YaHei'"),this.isFill?(t.fillStyle=this.randomRgb(),t.fillText(l,r,e)):(t.strokeStyle=this.randomRgb(),t.strokeText(l,r,e)),t.restore()}this.callback(h)},{randomBlock:t}});
