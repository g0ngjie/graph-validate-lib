!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t="undefined"!=typeof globalThis?globalThis:t||self).lib=o()}(this,function(){"use strict";function t(t,o){var i=this,n=(this.onChange=o,this.isLine=t.line,this.isPoint=t.point,this.isFill=t.fill,this.fontSize=t.fontSize||50,this.charNum=t.charNum||4,document.createElement("canvas")),a=(n.width=t.container.clientWidth,n.height=t.container.clientHeight,t.container.appendChild(n),n.getContext("2d"));n.onclick=function(){return i.onClick(a,n.width,n.height)},this.draw(a,n.width,n.height)}return t.prototype.onClick=function(t,o,i){t.clearRect(0,0,o,i),this.draw(t,o,i)},t.prototype.randomRgb=function(){var t=Math.floor(256*Math.random()),o=Math.floor(256*Math.random()),i=Math.floor(256*Math.random());return"rgb(".concat(t,",").concat(o,",").concat(i,")")},t.prototype.randomChar=function(t){void 0===t&&(t=4);for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",n=0;n<t;n++)i+=o[Math.floor(Math.random()*o.length)];return i},t.prototype.draw=function(t,o,i){if(t.strokeStyle=this.randomRgb(),this.isLine)for(var n=0;n<10;n++)t.beginPath(),t.moveTo(Math.random()*o,Math.random()*i),t.lineTo(Math.random()*o,Math.random()*i),t.strokeStyle=this.randomRgb(),t.stroke();if(this.isPoint)for(var a=0;a<20;a++){t.beginPath();var e=Math.random()*o,r=Math.random()*i;t.arc(e,r,1,0,2*Math.PI,!0),t.fillStyle=this.randomRgb(),t.fill()}for(var h="",s=0;s<this.charNum;s++){t.save();var e=o/this.charNum*s/2,r=Math.random()*i/4+i/4,l=(t.translate(e,r),this.randomChar(1));h+=l,t.font="italic ".concat(this.fontSize,"px 'Microsoft YaHei'"),this.isFill?(t.fillStyle=this.randomRgb(),t.fillText(l,e,r)):(t.strokeStyle=this.randomRgb(),t.strokeText(l,e,r)),t.restore()}this.onChange(h)},{randomBlock:t}});
